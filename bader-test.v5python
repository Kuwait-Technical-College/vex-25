{"mode":"Text","hardwareTarget":"brain","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\nimport math\n\n# Brain should be defined by default\nbrain=Brain()\n\n# Robot configuration code\n\n\n# wait for rotation sensor to fully initialize\nwait(30, MSEC)\n\n\n# Make random actually random\ndef initializeRandomSeed():\n    wait(100, MSEC)\n    random = brain.battery.voltage(MV) + brain.battery.current(CurrentUnits.AMP) * 100 + brain.timer.system_high_res()\n    urandom.seed(int(random))\n      \n# Set random seed \ninitializeRandomSeed()\n\n\ndef play_vexcode_sound(sound_name):\n    # Helper to make playing sounds from the V5 in VEXcode easier and\n    # keeps the code cleaner by making it clear what is happening.\n    print(\"VEXPlaySound:\" + sound_name)\n    wait(5, MSEC)\n\n# add a small delay to make sure we don't print in the middle of the REPL header\nwait(200, MSEC)\n# clear the console to make sure we don't have the REPL in the console\nprint(\"\\033[2J\")\n\n#endregion VEXcode Generated Robot Configuration\n#-----------------------------------------------------------------------------#\n#     dex2 Main Code                                                          #\n#     Author: Fouad                                                           #\n#     Forked From: https://github.com/jpearman/v5-drivecode                  #\n#     Created: Nov 8, 2025                                                    #\n#     Description: Default code for dex2 VeXU Robot - Python                 #\n#-----------------------------------------------------------------------------#\n\nfrom vex import *\nimport urandom\nimport math\n\n# --- DEVICE INITIALIZATION ---\n\n# VEX Brain and Controller\nbrain = Brain()\ncontroller = Controller(ControllerType.PRIMARY)\n\n# Drive Motors (FIXED POLARITY: Both set to False. \n# If the robot goes backward when you push forward, change ONE of these to True.)\ndrive_motors = {\n    \"left\": Motor(Ports.PORT2, GearSetting.RATIO_18_1, False),\n    \"right\": Motor(Ports.PORT3, GearSetting.RATIO_18_1, False),\n}\n\n# Intake/Mechanism Motors\nmech_motors = {\n    \"front_intake\": Motor(Ports.PORT10, GearSetting.RATIO_18_1, False),\n    \"top_roller\": Motor(Ports.PORT11, GearSetting.RATIO_18_1, True),\n}\n\n# Combine all motors for universal configuration\nALL_MOTORS = {**drive_motors, **mech_motors}\n\n# --- CONSTANTS AND CONFIG ---\n\n# Drive Constants\nMAX_MOTOR_PERCENT = 100\nDRIVE_VELOCITY_RPM = 200\nDEADBAND = 15 \n\n# Screen Colors for Motor Status Display\nSCREEN_COLORS = {\n    \"installed\": Color(0x2F4F4F),\n    \"left_drive\": Color(0x303060),\n    \"right_drive\": Color(0x603030),\n    \"uninstalled\": Color(0x202020)\n}\n\n# Set initial velocity for all motors\nfor motor in ALL_MOTORS.values():\n    motor.set_velocity(DRIVE_VELOCITY_RPM, RPM)\n\n# Seed the random number generator\ndef seed_random():\n    \"\"\"Seeds urandom using Brain's battery voltage, current, and timer.\"\"\"\n    wait(100, MSEC)\n    seed_value = (\n        brain.battery.voltage(MV)\n        + brain.battery.current(CurrentUnits.AMP) * 100\n        + brain.timer.system_high_res()\n    )\n    urandom.seed(int(seed_value))\n\nseed_random()\n\n# Console Cleanup\nwait(200, MSEC)\nprint(\"\\033[2J\")\n\n# --- DRIVING FUNCTIONS ---\n\ndef get_drive_speeds():\n    \"\"\"Calculates arcade drive speeds (percent) from the controller joysticks.\"\"\"\n    forward_input = controller.axis3.position()\n    turn_input = controller.axis1.position()\n    \n    # Calculate speeds\n    left_speed = (forward_input + turn_input) * MAX_MOTOR_PERCENT\n    right_speed = (forward_input - turn_input) * MAX_MOTOR_PERCENT\n    \n    # Apply deadband\n    left_out = 0 if abs(left_speed) < DEADBAND else left_speed\n    right_out = 0 if abs(right_speed) < DEADBAND else right_speed\n    \n    return left_out, right_out\n\ndef control_intake():\n    \"\"\"Controls the intake mechanisms using the bumper buttons.\"\"\"\n    intake_speed = MAX_MOTOR_PERCENT\n    \n    if controller.buttonR1.pressing():\n        # Intake\n        mech_motors[\"front_intake\"].spin(FORWARD, intake_speed, PERCENT)\n        mech_motors[\"top_roller\"].spin(FORWARD, intake_speed, PERCENT)\n    elif controller.buttonL1.pressing():\n        # Outtake/Spit\n        mech_motors[\"front_intake\"].spin(REVERSE, intake_speed, PERCENT)\n        mech_motors[\"top_roller\"].spin(REVERSE, intake_speed, PERCENT)\n    else:\n        # Stop\n        mech_motors[\"front_intake\"].stop()\n        mech_motors[\"top_roller\"].stop()\n\ndef user_control_drive():\n    \"\"\"Main drive loop for user control period.\"\"\"\n    while True:\n        left_speed, right_speed = get_drive_speeds()\n        \n        # CORRECTED SYNTAX: Ensuring all three arguments (Direction, Speed, Unit) are present and correct.\n        drive_motors[\"left\"].spin(FORWARD, left_speed, PERCENT) \n        drive_motors[\"right\"].spin(FORWARD, right_speed, PERCENT)\n        \n        control_intake()\n        sleep(15)\n\n# --- DEBUG & DISPLAY FUNCTIONS ---\n\ndef draw_motor_stats(motor, index):\n    \"\"\"Draws motor telemetry on the VEX Brain screen.\"\"\"\n    x_offset = index * 48\n    \n    brain.screen.set_font(FontType.MONO15)\n\n    if not motor.installed():\n        fill_color = SCREEN_COLORS[\"uninstalled\"]\n    elif motor is drive_motors[\"left\"]:\n        fill_color = SCREEN_COLORS[\"left_drive\"]\n    elif motor is drive_motors[\"right\"]:\n        fill_color = SCREEN_COLORS[\"right_drive\"]\n    else:\n        fill_color = SCREEN_COLORS[\"installed\"]\n\n    brain.screen.set_fill_color(fill_color)\n    brain.screen.set_pen_color(Color.WHITE)\n    brain.screen.draw_rectangle(x_offset, 0, 49 if index < 9 else 48, 79)\n\n    if not motor.installed():\n        brain.screen.print_at(\"NC\", x=x_offset+15, y=30)\n        return\n\n    # Draw motor port and telemetry data\n    brain.screen.print_at(\"%02d\" % (index + 1), x=x_offset + 13, y=13)\n    brain.screen.set_pen_color(Color.YELLOW)\n    brain.screen.print_at(\"%4d\" % motor.velocity(RPM), x=x_offset + 13, y=30)\n    brain.screen.print_at(\"%5.1f\" % motor.position(TURNS), x=x_offset + 5, y=45)\n    brain.screen.print_at(\"%4.1fA\" % motor.current(), x=x_offset + 5, y=60)\n    brain.screen.print_at(\"%4.0fC\" % motor.temperature(), x=x_offset + 5, y=75)\n    \n    brain.screen.set_pen_color(Color.WHITE)\n    brain.screen.draw_line(x_offset, 14, x_offset + 48, 14)\n\ndef display_task():\n    \"\"\"Manages the continuous drawing of motor data and custom text.\"\"\"\n    brain.screen.set_font(FontType.PROP20)\n    brain.screen.set_pen_color(Color.RED)\n    brain.screen.print_at(\"Bader is the best\", x=90, y=160)\n\n    motor_list = list(ALL_MOTORS.values())\n    while True:\n        for index, motor in enumerate(motor_list):\n            draw_motor_stats(motor, index)\n        \n        brain.screen.render()\n        sleep(10)\n\n# --- PROGRAM EXECUTION START ---\n\ndef autonomous_routine():\n    \"\"\"Code to run during the autonomous period.\"\"\"\n    brain.screen.print(\"Auton Started\")\n    # Add your autonomous commands here\n    pass\n\n# Start the display thread\nThread(display_task)\n\n# NOTE: The competition object is commented out. The user control function \n# is called directly so the robot moves immediately for easier testing.\n# comp = Competition(user_control_drive, autonomous_routine) \n\nuser_control_drive()","textLanguage":"python","robotConfig":[],"slot":0,"platform":"V5","sdkVersion":"20240802.15.00.00","appVersion":"4.62.0","fileFormat":"2.0.0","targetBrainGen":"First","v5Sounds":[{"name":"game over","url":"static/sounds/mixkit-arcade-retro-game-over-213.wav"}],"v5SoundsEnabled":false,"aiVisionSettings":{"colors":[],"codes":[],"tags":true,"AIObjects":true,"AIObjectModel":[],"aiModelDropDownValue":null}}